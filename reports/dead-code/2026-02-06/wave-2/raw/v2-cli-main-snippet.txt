     1	#!/usr/bin/env node
     2	/**
     3	 * Claude-Flow CLI - Main entry point for Node.js
     4	 */
     5	
     6	import { CLI, VERSION } from './cli-core.js';
     7	import { setupCommands } from './commands/index.js';
     8	import { fileURLToPath } from 'node:url';
     9	import { dirname } from 'node:path';
    10	
    11	async function main() {
    12	  const cli = new CLI('claude-flow', 'Advanced AI Agent Orchestration System');
    13	
    14	  // Setup all commands
    15	  setupCommands(cli);
    16	
    17	  // Run the CLI (args default to process.argv.slice(2) in Node.js version)
    18	  await cli.run();
    19	}
    20	
    21	// Check if this module is being run directly (Node.js equivalent of import.meta.main)
    22	const __filename = fileURLToPath(import.meta.url);
    23	const __dirname = dirname(__filename);
    24	const isMainModule = process.argv[1] === __filename || process.argv[1].endsWith('/main.js');
    25	
    26	if (isMainModule) {
    27	  main().catch((error) => {
    28	    console.error('Fatal error:', error);
    29	    process.exit(1);
    30	  });
    31	}
